<template >

<body id="termo" >
    
<div>
    
  <div id="capturar" >

    <canvas id="paint-canvas">  </canvas>
   
             <table >
    
            <tr>
               
                <td rowspan="4"  >  
                <img crossorigin="anonymous"  src="./samel_logo.jpg" alt="" style="width: 120px; height: 120px;"> </td>

                <td rowspan="4"  >
                    TERMO DE CONSENTIMENTO INFORMADO PARA INTERNAÇÃO E PROCEDIMENTOS NAS UNIDADES DE TERAPIA INTENSIVA (UTI)</td>
                    
                <td >Código: F-CRP-012</td>
            </tr>
    
            <tr>
                <td >Data da Revisão: 13/07/2020</td>
            </tr>
    
              <tr>
                <td >N° Revisão: 03</td>
            </tr>
    
              <tr>
                <td >Página: 1 de 1</td>
            </tr>
    
    </table>
        
    <div  id="corpo">
        <p >Este Termo de Consentimento Informado tem o objetivo de informar ao paciente e/ou ao seu 
        responsável/representante legal, todos os aspectos, riscos e objetivos da INTERNAÇÃO NA UNIDADE DE
        TERAPIA INTENSIVA (UTI) a qual o paciente será submetido, complementando as informações prestadas pelo médico 
        assistente e pela equipe multidisciplinar do Hospital SAMEL.
        </p>
        <p >
        Paciente:<strong> {{ListarDados.NM_PESSOA_FISICA}}</strong>  Registo: <br/>
        
        Convênio:<strong> {{ListarDados.IE_TIPO_CONVENIO}}</strong> UTI:  Aduto (  )  NEO (  )  <br/> 
        Leito:__________ Indicação/Diagnóstico: <br/> <br/>
        Data da entrada na UTI:<strong> {{ListarDados.DT_ENTRADA}}</strong>
        </p>
        <p >
            <strong>DECLARO QUE:</strong><br/>
    1. Após a realização de exames e cuidadosas avaliações fui informado da necessidade e indicação de internação e procedimentos médico-hospitalares em Unidade de Terapia Intensiva (UTI);<br/>
    2.Todas as minhas perguntas foram detalhadamente respondidas e as minhas dúvidas foram esclarecidas satisfatoriamente;<br/>
    3. Fui informado que, com frequência, são necessários cuidados e procedimentos específicos como monitorização dos sinais vitais; instalação de 
    equipamentos de suporte da função respiratória que auxiliam a respiração; procedimentos invasivos, como colocação de cateter de longa permanência,
     que podem ser de inserção central ou periférica; sondas em vasos sanguíneos, no aparelho urinário, no sistema nervoso central, no tórax ou no abdome;
      intervenções cirúrgicas e do estado nutricional e metabólico; instalação de equipamentos que auxiliam ou substituem a função dos rins; sedação/anestesia; 
      atendimento por equipe multiprofissional (médicos, enfermeiras, fisioterapeutas, nutricionistas); realização de exames de imagem como tomografias, ressonâncias, 
      angiografias, cateterismos, eventualmente com  realizados na própria UTI, no setor de diagnósticos ou no centro cirúrgico); assim como, traqueostomia; gastrostomia; 
      endoscopia; colonoscopia e broncoscopia, punção de LCR; cateter umbilical em caso de RN; dentre outros;<br/>
    4. Fui esclarecido que, em decorrência de situações ainda não diagnosticadas ou de complicações emergenciais, inesperadas e não discutidas ou previstas,
     poderá ser necessário um procedimento cirúrgico e transfusão sanguínea, conforme o caso;<br/>
    5. Tenho consciência que, apesar da evolução da medicina e da perícia do médico, 
    não existe qualquer garantia de resultado do tratamento e que todo tipo de procedimento pode ter complicações inesperadas, 
    risco de sequelas graves, incapacidade permanente e até de morte;<br/>
    6. Prestei ao médico todas as informações relativas à saúde e hábitos do paciente, presentes e passadas, clínicas e cirúrgicas,
     inclusive as medicações em uso ou já utilizadas, e fui avisado que qualquer omissão ou informação equivocada poderá trazer graves prejuízos ou 
     comprometer o resultado do tratamento;<br/>
    7. Estou plenamente informado e satisfeito com as informações recebidas e sei que poderei esclarecer quaisquer novas dúvidas que possam surgir em qualquer fase do tratamento; e,
    8. Estou ciente que a Unidade de Terapia Intensiva (UTI) é um local com regras próprias e restritivas para acompanhantes e visitas, conforme o caso.
        </p>
        <p >
           <strong> LIDO, COMPREENDIDO, CIENTE E DE ACORDO COM TODO O CONTEÚDO DESTE TERMO, AUTORIZO EXPRESSAMENTE A INTERNAÇÃO E PROCEDIMENTOS EM UNIDADE DE TERAPIA INTENSIVA (UTI).</strong><br/>
    
        </p>
        <p>
    (Reservo-me o direito de revogar, total ou parcialmente, este consentimento antes da internação)
        </p>
        <p >
             Manaus, _____/_____/_________. Hora :____:____<br/>
        </p>
    
        <p  style=" text-align: justify; margin-top: 50px;  margin-bottom: 20px;  margin: 10px auto;">
    
         ___________________________________________________________________________________<br/><br/>
        Assinatura do Paciente ou Responsável/Representante Legal<br/>
    
        </p>
    
        <p >
            Nome:____________________RG/CPF:____________________Parentesco:____________
        </p>
    
    
        <p >
           <strong> Termo de Responsabilidade Médica</strong>
    Declaro para os devidos fins e efeitos que expliquei ao paciente (ou seu responsável/representante legal) de forma clara e objetiva o diagnóstico, o prognóstico, os riscos e objetivos da necessidade de internação em Unidade de Terapia Intensiva (UTI), assim como os seus benefícios e alternativas, esclarecendo suas dúvidas e deixando-o livre para decidir a respeito da internação. De acordo com o meu entendimento, o paciente (ou seu responsável/ representante legal) está em perfeitas condições de compreender todo o conteúdo deste Termo e de autorizar a internação para cuidados intensivos.
    
        </p>
    
        <p >
            Manaus, _____/_____/_________. Hora :____:____
        </p>
        <p  style=" text-align: justify;   margin: 10px auto; float: right;">
            ____________________________________________<br/>
            Assinatura do Médico com carimbo do CRM
    
        </p>
    
    </div>  
      
    
    </div>
    

  <div class="botoes">
    <div class="colors" style=" text-align: center;  ">
        <button type="button" value="#000000"  style=" background-color: #000000;; height: 40px; display: inline-block; padding: 12px;  border: 2px solid #00000026;    outline: none;  cursor: pointer; "></button>

        <button type="button" value="#ffffff"  style="background-color: #ffffff; height: 40px; display: inline-block; padding: 12px;  border: 2px solid #00000026;    outline: none;  cursor: pointer;"></button>

        <button id="clear" type="button" style="margin-left: 50px; margin-bottom: 0; height: 40px; display: inline-block; padding: 12px;  border: 2px solid #00000026;    outline: none;  cursor: pointer;" >Clear</button>
    </div>

        <button style="height: 50px;; border: 2px solid #00000026;   border-radius: 0;  outline: none;  cursor: pointer; padding: 12px;" @click="cap()">salvar formulario</button>

        <div class="brushes" style="display: none;">
          <button type="button" value="1"></button>
          
      </div>
  
        
    </div>


</div>


</body>

</template>



<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<script>
import DataServices from '../services/DataServices'

export default {
    

 data(){
        return {
            ListarDados:"",
            
        }
    },

methods: {
cap() {
    
     html2canvas(document.getElementById('termo')).then(canvas => {
            crossOrigin: 'Anonymous'
            console.log(canvas.toDataURL('image/jpeg', 1))
    }
     )
 
    }
     },

mounted(){   

function forcanvas() {
var canvas = document.querySelector('#paint-canvas');
var context = canvas.getContext("2d");
// var boundings = canvas.getBoundingClientRect();


// Specifications
var  mouseX = 0;
var mouseY = 0;


canvas.width  =  900;
canvas.height =  1442;


// canvas.style.width = "900px";
// canvas.style.height = "1442px";


context.strokeStyle = 'black'; // initial brush color

var isDrawing = false;

// Handle Colors
var colors = document.getElementsByClassName('colors')[0];

colors.addEventListener('click', function(event) {
  context.strokeStyle = event.target.value || 'black';
});

// Handle Brushes
var brushes = document.getElementsByClassName('brushes')[0];

brushes.addEventListener('click', function(event) {
  context.lineWidth = event.target.value || 1;
});

// Mouse Down Event
canvas.addEventListener('mousedown', function(event) {
  setMouseCoordinates(event);
  isDrawing = true;

  // Start Drawing
  context.beginPath();
  context.moveTo(mouseX, mouseY);
});

// Mouse Move Event
canvas.addEventListener('mousemove', function(event) {

  
  setMouseCoordinates(event);

  if(isDrawing){
    context.lineTo(mouseX, mouseY);
    context.stroke();
    
  }
 
});

// Mouse Up Event
canvas.addEventListener('mouseup', function(event) {
  setMouseCoordinates(event);
  isDrawing = false;
});

// Handle Mouse Coordinates
function setMouseCoordinates(event) {
  var rect = canvas.getBoundingClientRect();

   mouseX = event.clientX - rect.left;
   mouseY = event.clientY - rect.top;

   return {mouseX, mouseY}
}

// Handle Clear Button
var clearButton = document.getElementById('clear');

clearButton.addEventListener('click', function() {
  context.clearRect(0, 0, canvas.width, canvas.height);
}
);

}

forcanvas();

DataServices.buscar().then(response => {
    console.log(response.data[0])

    this.ListarDados = response.data[0];
    console.log(this.ListarDados)
  
                
   });


},        

    
}


</script>

<style scoped>

#termo {
    width:  900px;  height: 100%;  margin: 0 auto;  padding: 0;  border: 0;  display: block;  align-items: center;
}
#capturar {
    width: 900px; height: 1442px; border: 1px solid; padding: 0; margin: 0 auto;  background: #FFF; align-items: center; align-content: center;
}
#paint-canvas{
     width: 900px; height: 1442px; border: 1px solid black; cursor:crosshair;  position:absolute; display: block; margin: 0 auto
}
table {
     border: 1px solid;   width: 90%;   margin: 0 auto 0 auto;   margin-top: 10px;
}
table td {
    border: 1px solid;  text-align: center;   font: 400 14px Roboto, sans-serif;    color: #808080;
}
#corpo {
    width: 85%;   margin: 10px auto;   line-height: 14pt;   font: 400 16px Roboto, sans-serif;   color: #000;
}
#corpo p {
    text-align: justify;   margin: 10px auto;
}
.botoes {
    width: 90%; height: auto; justify-content: space-between; margin: 0 auto 50px auto; display: flex;
}

</style>